@Master['shared/layout.html'];

@Section['js']pages.js@EndSection


@Section['content']
<div class="row">
    <div class="col-md-auto">
        <a href="/admin/pages/createoredit" class="btn btn-primary btn-wide">Create new</a>
        
        <select onload="this.value = " onchange="sortAfter()" id="sorting" class="mt-2 form-control">
            <option>Sort After</option>
            <option value="get">GET</option>
            <option value="post">POST</option>
            <option value="put">PUT</option>
            <option value="delete">DELETE</option>
        </select>
        <script>
            function sortAfter() {
                let after = dom.getValue('sorting');
                window.location = "/admin/pages?sort=" + after;
            }
        </script>
    </div>
    <div class="col-md-9">

        <div class="row">
            
            @Each.Pages
            <div class="col-md-5 m-1 card card-lg">
                <div class="card-body">
                    <h5 class="card-title">@Current.page_route</h5>
                    <h6 class="card-subtitle mb-2 text-muted">@Current.page_methods</h6>
                    <a href="/admin/pages/createoredit?page=@Current.page_id" class="card-link">Edit</a>
                    <a onclick="pages.remove(@Current.page_id)" href="" class="card-link">Delete</a>
                </div>
            </div>
            @EndEach
        </div>

    </div>
</div>


@EndSection